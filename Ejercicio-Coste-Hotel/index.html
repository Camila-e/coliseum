<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejercicio coste del alquiler coche javascrip</title>
    <link rel="stylesheet" href="estilos.css">
</head>
<body>
    <div id="container">
        <h1> Programa javascrip que calcula mediante varias funciones el coste de un viaje</h1>
        <div id="formulario">
            <form action="">
                <label>Introduzca el número de noche</label>

                <input id="num_noches" type="text" placeholder="número de noches">
                <select title="Ciudades" id="nombreCiudad">
                    <option value="select" value="Oviedo">Oviedo</option>
                    <option value="Tokyo">Tokyo</option>
                    <option value="Madrid">Madrid</option>
                    <option value="Barcelona">Barcelona</option>
                </select>

                <input id="btn" value="Calcular Coste" type="button">
                <br><br>

                <label>Coste hotel:</label>

                <input id="resultadoHotel" type="text" placeholder="Resultado Hotel"> <br>

                <label>Coste viaje:</label>
                
                <input type="text" id="resultadoViaje" placeholder="Resultado Viaje"> <br>

                <label>Coste Alquiler Coche:</label>

                <input type="text" id="costeAlquilerCoche" placeholder="Resultado Alquiler Coche"> <br>

                <label>Coste Total:</label>

                <input type="text" id="result" placeholder="Coste Total"><br>

            </form>

        </div>
    </div>


    <script>

        const costeHotel = numNoches => 140 * numNoches;

        const costeAvion = (destino, n_noches) => {
            let c = 0;
            if (destino == "Oviedo"){
                c = 15;
            } else if (destino == "Tokyo") {
                c = 700;

            }else if (destino == "Madrid") {
                c = 90;

            }else if (destino == "Barcelona") {
                c = 90;

            }
            if (n_noches > 3) {
                c = c * 0.9;
            }
            return c;
        }


        const calcularCoste = _ =>{
        
            const numNoches = document.querySelector("#num_noches").value;

            const destino = document.querySelector("#nombreCiudad").value;
            

            const resultado1 = costeHotel(numNoches);

            const resultado2 = costeAvion(destino, numNoches);

            const resultado3 = costeAlquilerCoche(numNoches);

            document.querySelector("#resultadoHotel").value =resultado1 ;
            document.querySelector("#resultadoViaje").value =resultado2 ;
            document.querySelector("#resultadoAlquilerCoche").value =resultado3 ;
            document.querySelector("#result").value =resultado1 + resultado2 + resultado3 ;

        }

        const costeAlquilerCoche = n => {
            let valorDevuelto = n* 40;
            if (n >= 7) {
                valorDevuelto -= 50;
            } else if (n >= 3) {
                valorDevuelto -= 20
            }
            return valorDevuelto;
        }
        //devuelve el primer elemento del documento
        document.querySelector('#btn').addEventListener('click', calcularCoste);
    </script>
    
</body>
</html>